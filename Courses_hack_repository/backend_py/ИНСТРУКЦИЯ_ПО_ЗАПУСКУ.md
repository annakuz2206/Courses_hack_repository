# ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÑƒ Telegram Ð±Ð¾Ñ‚Ð°

## Ð¨Ð°Ð³ 1: ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð°

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Telegram
2. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° [@BotFather](https://t.me/BotFather)
3. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `/newbot`
4. Ð¡Ð»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÐ¼:
   - ÐŸÑ€Ð¸Ð´ÑƒÐ¼Ð°Ð¹Ñ‚Ðµ Ð¸Ð¼Ñ Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð° (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: "ITAM Auth Bot")
   - ÐŸÑ€Ð¸Ð´ÑƒÐ¼Ð°Ð¹Ñ‚Ðµ username (Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° `bot`, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: `itam_auth_bot`)
5. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð´Ð°ÑÑ‚ Ð²Ð°Ð¼ BotFather (Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ ÐºÐ°Ðº: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

## Ð¨Ð°Ð³ 2: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

```bash
cd backend_py

# Ð•ÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ, Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐµÐ³Ð¾:
source .venv/bin/activate  # Ð´Ð»Ñ macOS/Linux
# Ð¸Ð»Ð¸
.venv\Scripts\activate  # Ð´Ð»Ñ Windows

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
pip install -r requirements.txt
# Ð¸Ð»Ð¸
pip3 install -r requirements.txt
```

**Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÑŽÑ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¾Ð¹:**

ÐœÐ¾Ð¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¹:
```bash
pip3 install fastapi uvicorn PyJWT python-telegram-bot python-dotenv
```

**Ð’Ð°Ð¶Ð½Ð¾:** 
- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ð¸, Ð³Ð´Ðµ Ð²Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð° Ð¸ ÑÐµÑ€Ð²ÐµÑ€!
- Ð•ÑÐ»Ð¸ `python-dotenv` Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½, ÐºÐ¾Ð´ Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ, Ð½Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ñ‡ÐµÑ€ÐµÐ· `export`

## Ð¨Ð°Ð³ 3: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð±:** Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env` Ð² Ð¿Ð°Ð¿ÐºÐµ `backend_py`:

```bash
cd backend_py
nano .env
```

Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹:

```bash
cat > backend_py/.env << EOF
TELEGRAM_BOT_TOKEN=8258716483:AAEx-7BxalTtRH-TkWW7PoADS0K8JHuUY_k
JWT_SECRET=balls
SITE_URL=http://localhost:3000
EOF
```

Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ„Ð°Ð¹Ð»Ð° `.env`:
```
TELEGRAM_BOT_TOKEN=8258716483:AAEx-7BxalTtRH-TkWW7PoADS0K8JHuUY_k
JWT_SECRET=balls
SITE_URL=http://localhost:3000
```

**Ð’Ð°Ð¶Ð½Ð¾:** 
- Ð¤Ð°Ð¹Ð» `.env` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð² Ð¿Ð°Ð¿ÐºÐµ `backend_py`, Ð° Ð½Ðµ Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°!
- ÐšÐ¾Ð´ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¸Ð· `.env` Ñ„Ð°Ð¹Ð»Ð° (Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ `python-dotenv`)

**ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð±:** Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð² Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ (Ð½Ð¾ Ð¾Ð½Ð¸ Ð¿Ñ€Ð¾Ð¿Ð°Ð´ÑƒÑ‚ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð°):

```bash
export TELEGRAM_BOT_TOKEN="8258716483:AAEx-7BxalTtRH-TkWW7PoADS0K8JHuUY_k"
export JWT_SECRET="balls"
export SITE_URL="http://localhost:3000"
```

## Ð¨Ð°Ð³ 4: Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ FastAPI ÑÐµÑ€Ð²ÐµÑ€

Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ:

```bash
cd backend_py
python main.py
```

Ð¡ÐµÑ€Ð²ÐµÑ€ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑÑ Ð½Ð° `http://localhost:8000`

## Ð¨Ð°Ð³ 5: Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Telegram Ð±Ð¾Ñ‚Ð°

Ð’Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ (Ð½Ð¾Ð²Ð¾Ðµ Ð¾ÐºÐ½Ð¾ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð°):

```bash
cd backend_py
python telegram_bot.py
```

Ð’Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ: `ðŸ¤– Telegram Ð±Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½!`

## Ð¨Ð°Ð³ 6: ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±Ð¾Ñ‚Ð°

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Telegram
2. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð±Ð¾Ñ‚Ð° (Ð¿Ð¾ username, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ñ‹ ÑƒÐºÐ°Ð·Ð°Ð»Ð¸)
3. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `/start` Ð¸Ð»Ð¸ `/login`
4. Ð‘Ð¾Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ Ð²Ð°Ð¼ ÐºÐ¾Ð´ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÑÑ‹Ð»ÐºÑƒ

## ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

1. **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ** Ð¿Ð¸ÑˆÐµÑ‚ Ð±Ð¾Ñ‚Ñƒ `/login`
2. **Ð‘Ð¾Ñ‚** Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ
3. **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ** Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð° ÑÐ°Ð¹Ñ‚ Ð¸ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ ÐºÐ¾Ð´
4. **Ð¡Ð°Ð¹Ñ‚** Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÐºÐ¾Ð´ Ð½Ð° ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ `/api/auth/bot-code`
5. **Ð¡ÐµÑ€Ð²ÐµÑ€** Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ ÐºÐ¾Ð´ Ð¸ Ð²Ñ‹Ð´Ð°Ñ‘Ñ‚ JWT Ñ‚Ð¾ÐºÐµÐ½
6. **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ** Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½! ðŸŽ‰

## API ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸

Ð’Ð°Ñˆ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ POST Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð°:

```
POST http://localhost:8000/api/auth/bot-code
Content-Type: application/json

{
  "code": "ÐºÐ¾Ð´_Ð¾Ñ‚_Ð±Ð¾Ñ‚Ð°"
}
```

ÐžÑ‚Ð²ÐµÑ‚:
```json
{
  "access_token": "jwt_Ñ‚Ð¾ÐºÐµÐ½",
  "token_type": "bearer"
}
```

## ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

- Swagger Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ: http://localhost:8000/docs
- Health check: http://localhost:8000/health

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹?

- **Ð‘Ð¾Ñ‚ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚?** ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ `TELEGRAM_BOT_TOKEN` ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾
- **ÐšÐ¾Ð´ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚?** Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ð´ Ð½Ðµ Ð¸ÑÑ‚Ñ‘Ðº (Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ½ 5 Ð¼Ð¸Ð½ÑƒÑ‚) Ð¸ Ð½Ðµ Ð±Ñ‹Ð» Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½
- **ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°?** Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ `pip install -r requirements.txt` ÐµÑ‰Ñ‘ Ñ€Ð°Ð·

